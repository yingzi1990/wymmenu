{"last_node_id":71,"last_link_id":113,"nodes":[{"id":7,"type":"CLIPTextEncode","pos":[393,374],"size":{"0":425.27801513671875,"1":180.6060791015625},"flags":{},"order":10,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":5,"label":"clip"}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[6,34,52,108],"slot_index":0,"label":"CONDITIONING"}],"properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":["nsfw,(worst quality, low quality:1.2),(blury:1.2),embedding:badhandv4, embedding:bad_pictures_v2, "],"serialize_values":["nsfw,(worst quality, low quality:1.2),(blury:1.2),embedding:badhandv4, embedding:bad_pictures_v2, "]},{"id":58,"type":"IPAdapterModelLoader","pos":[-10,150],"size":{"0":315,"1":58},"flags":{},"order":0,"mode":0,"outputs":[{"name":"IPADAPTER","type":"IPADAPTER","links":[99],"shape":3,"label":"IPADAPTER"}],"properties":{"Node name for S&R":"IPAdapterModelLoader"},"widgets_values":["ip-adapter-plus_sd15.bin"],"serialize_values":[null]},{"id":61,"type":"IPAdapterInsightFaceLoader","pos":[-10,370],"size":{"0":315,"1":58},"flags":{},"order":1,"mode":0,"outputs":[{"name":"INSIGHTFACE","type":"INSIGHTFACE","links":[],"shape":3,"label":"INSIGHTFACE"}],"properties":{"Node name for S&R":"IPAdapterInsightFaceLoader"},"widgets_values":["CPU"],"serialize_values":[null]},{"id":5,"type":"EmptyLatentImage","pos":[444,608],"size":{"0":315,"1":106},"flags":{},"order":2,"mode":0,"outputs":[{"name":"LATENT","type":"LATENT","links":[2],"slot_index":0,"label":"LATENT"}],"properties":{"Node name for S&R":"EmptyLatentImage"},"widgets_values":[600,600,1],"serialize_values":[null,null,null]},{"id":6,"type":"CLIPTextEncode","pos":[397,133],"size":{"0":422.84503173828125,"1":164.31304931640625},"flags":{},"order":9,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":3,"label":"clip"}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[4,33,51,107],"slot_index":0,"label":"CONDITIONING"}],"properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":["masterpiece,best quality,Details,vray render,octane render,"],"serialize_values":["masterpiece,best quality,Details,vray render,octane render,"]},{"id":4,"type":"CheckpointLoaderSimple","pos":[-372,166],"size":{"0":315,"1":98},"flags":{},"order":3,"mode":0,"outputs":[{"name":"MODEL","type":"MODEL","links":[97,105],"slot_index":0,"label":"MODEL"},{"name":"CLIP","type":"CLIP","links":[3,5,31,50],"slot_index":1,"label":"CLIP"},{"name":"VAE","type":"VAE","links":[8,32,49,102,106],"slot_index":2,"label":"VAE"}],"properties":{"Node name for S&R":"CheckpointLoaderSimple"},"widgets_values":["RealCartoon-Pixar(V8)"],"serialize_values":["1464_5522_6459@c45dbe2694.safetensors"]},{"id":27,"type":"UltralyticsDetectorProvider","pos":[1230,151],"size":{"0":498.601806640625,"1":107.5551528930664},"flags":{},"order":4,"mode":0,"outputs":[{"name":"BBOX_DETECTOR","type":"BBOX_DETECTOR","links":[38],"shape":3,"label":"BBOX_DETECTOR","slot_index":0},{"name":"SEGM_DETECTOR","type":"SEGM_DETECTOR","links":[],"shape":3,"label":"SEGM_DETECTOR"}],"properties":{"Node name for S&R":"UltralyticsDetectorProvider"},"widgets_values":["bbox/face_yolov8m.pt"],"serialize_values":[null]},{"id":34,"type":"UltralyticsDetectorProvider","pos":[2041,162],"size":{"0":502.8047180175781,"1":79.68496704101562},"flags":{},"order":5,"mode":0,"outputs":[{"name":"BBOX_DETECTOR","type":"BBOX_DETECTOR","links":[53],"shape":3,"label":"BBOX_DETECTOR","slot_index":0},{"name":"SEGM_DETECTOR","type":"SEGM_DETECTOR","links":[],"shape":3,"label":"SEGM_DETECTOR"}],"properties":{"Node name for S&R":"UltralyticsDetectorProvider"},"widgets_values":["bbox/hand_yolov8s.pt"],"serialize_values":[null]},{"id":29,"type":"PreviewImage","pos":[1775,156],"size":{"0":222.09010314941406,"1":246},"flags":{},"order":18,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":40,"label":"images"}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":71,"type":"PreviewImage","pos":[1776,457],"size":{"0":221.22410583496094,"1":246},"flags":{},"order":21,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":110,"label":"images"}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":70,"type":"UpscaleModelLoader","pos":[2595,372],"size":{"0":315,"1":58},"flags":{},"order":6,"mode":0,"outputs":[{"name":"UPSCALE_MODEL","type":"UPSCALE_MODEL","links":[109],"shape":3,"label":"UPSCALE_MODEL"}],"properties":{"Node name for S&R":"UpscaleModelLoader"},"widgets_values":["4x-UltraSharp.pth"],"serialize_values":[null]},{"id":31,"type":"PreviewImage","pos":[2943,172],"size":{"0":427.4580383300781,"1":636.470703125},"flags":{},"order":16,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":43,"label":"images"}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":65,"type":"IPAdapterAdvanced","pos":[-6,484],"size":{"0":315,"1":258},"flags":{},"order":11,"mode":0,"inputs":[{"name":"ipadapter","type":"IPADAPTER","link":99,"label":"ipadapter","slot_index":0},{"name":"clip_vision","type":"CLIP_VISION","link":98,"label":"clip_vision","slot_index":1},{"name":"image","type":"IMAGE","link":96,"label":"image"},{"name":"model","type":"MODEL","link":97,"label":"model"},{"name":"attn_mask","type":"MASK","link":null,"label":"attn_mask"},{"name":"image_negative","type":"IMAGE","link":"null","label":"image_negative"}],"outputs":[{"name":"MODEL","type":"MODEL","links":[93,94,95],"shape":3,"label":"MODEL","slot_index":0}],"properties":{"Node name for S&R":"IPAdapterAdvanced"},"widgets_values":[0.85,"linear","concat",0,1,"V only"],"serialize_values":[null,null,null,null,null,null]},{"id":60,"type":"CLIPVisionLoader","pos":[0,260],"size":{"0":315,"1":58},"flags":{},"order":7,"mode":0,"outputs":[{"name":"CLIP_VISION","type":"CLIP_VISION","links":[98],"shape":3,"label":"CLIP_VISION"}],"properties":{"Node name for S&R":"CLIPVisionLoader"},"widgets_values":["ip_adaptor_sd15_pytorch_model.bin"],"serialize_values":[null]},{"id":8,"type":"VAEDecode","pos":[884,470],"size":{"0":210,"1":46},"flags":{},"order":14,"mode":0,"inputs":[{"name":"samples","type":"LATENT","link":7,"label":"samples"},{"name":"vae","type":"VAE","link":8,"label":"vae"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[29,43],"slot_index":0,"label":"IMAGE"}],"properties":{"Node name for S&R":"VAEDecode"}},{"id":3,"type":"KSampler","pos":[881,151],"size":{"0":315,"1":262},"flags":{},"order":13,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":93,"label":"model"},{"name":"positive","type":"CONDITIONING","link":4,"label":"positive"},{"name":"negative","type":"CONDITIONING","link":6,"label":"negative"},{"name":"latent_image","type":"LATENT","link":2,"label":"latent_image"}],"outputs":[{"name":"LATENT","type":"LATENT","links":[7],"slot_index":0,"label":"LATENT"}],"properties":{"Node name for S&R":"KSampler"},"widgets_values":[893275980618058,"randomize",32,7,"euler_ancestral","normal",1],"serialize_values":[null,null,null,null,null,null,null]},{"id":25,"type":"FaceDetailer","pos":[1231,318],"size":{"0":506.4000244140625,"1":880},"flags":{},"order":15,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":29,"label":"image"},{"name":"model","type":"MODEL","link":94,"label":"model"},{"name":"clip","type":"CLIP","link":31,"label":"clip"},{"name":"vae","type":"VAE","link":32,"label":"vae"},{"name":"positive","type":"CONDITIONING","link":33,"label":"positive"},{"name":"negative","type":"CONDITIONING","link":34,"label":"negative"},{"name":"bbox_detector","type":"BBOX_DETECTOR","link":38,"label":"bbox_detector","slot_index":6},{"name":"sam_model_opt","type":"SAM_MODEL","link":null,"label":"sam_model_opt","slot_index":7},{"name":"segm_detector_opt","type":"SEGM_DETECTOR","link":null,"label":"segm_detector_opt","slot_index":8},{"name":"detailer_hook","type":"DETAILER_HOOK","link":null,"label":"detailer_hook"}],"outputs":[{"name":"image","type":"IMAGE","links":[54],"shape":3,"label":"image","slot_index":0},{"name":"cropped_refined","type":"IMAGE","links":[],"shape":6,"label":"cropped_refined","slot_index":1},{"name":"cropped_enhanced_alpha","type":"IMAGE","links":[40],"shape":6,"label":"cropped_enhanced_alpha","slot_index":2},{"name":"mask","type":"MASK","links":null,"shape":3,"label":"mask","slot_index":3},{"name":"detailer_pipe","type":"DETAILER_PIPE","links":null,"shape":3,"label":"detailer_pipe","slot_index":4},{"name":"cnet_images","type":"IMAGE","links":[],"shape":6,"label":"cnet_images","slot_index":5}],"properties":{"Node name for S&R":"FaceDetailer"},"widgets_values":[512,true,1024,1005051330922092,"randomize",20,7,"euler_ancestral","normal",0.5,40,true,true,0.5,10,3,"center-1",0,0.93,0,0.7,"False",10,"",1,false,20],"serialize_values":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"",null,null,null]},{"id":68,"type":"PixelKSampleUpscalerProvider","pos":[2595,491],"size":{"0":317.9078369140625,"1":377.3620300292969},"flags":{},"order":12,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":105,"label":"model","slot_index":0},{"name":"vae","type":"VAE","link":106,"label":"vae","slot_index":1},{"name":"positive","type":"CONDITIONING","link":107,"label":"positive","slot_index":2},{"name":"negative","type":"CONDITIONING","link":108,"label":"negative","slot_index":3},{"name":"upscale_model_opt","type":"UPSCALE_MODEL","link":109,"label":"upscale_model_opt","slot_index":4},{"name":"pk_hook_opt","type":"PK_HOOK","link":null,"label":"pk_hook_opt"}],"outputs":[{"name":"UPSCALER","type":"UPSCALER","links":[103],"shape":3,"label":"UPSCALER"}],"properties":{"Node name for S&R":"PixelKSampleUpscalerProvider"},"widgets_values":["lanczos",763773297212003,"randomize",24,4,"euler_ancestral","normal",0.15,false,512],"serialize_values":[null,null,null,null,null,null,null,null,null,null]},{"id":67,"type":"IterativeImageUpscale","pos":[2597,161],"size":{"0":315,"1":146},"flags":{},"order":19,"mode":0,"inputs":[{"name":"pixels","type":"IMAGE","link":101,"label":"pixels"},{"name":"upscaler","type":"UPSCALER","link":103,"label":"upscaler","slot_index":1},{"name":"vae","type":"VAE","link":102,"label":"vae","slot_index":2}],"outputs":[{"name":"image","type":"IMAGE","links":[112],"shape":3,"label":"image","slot_index":0}],"properties":{"Node name for S&R":"IterativeImageUpscale"},"widgets_values":[2,2,""],"serialize_values":[null,null,null]},{"id":32,"type":"FaceDetailer","pos":[2043,291],"size":{"0":506.4000244140625,"1":880},"flags":{},"order":17,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":54,"label":"image","slot_index":0},{"name":"model","type":"MODEL","link":95,"label":"model","slot_index":1},{"name":"clip","type":"CLIP","link":50,"label":"clip","slot_index":2},{"name":"vae","type":"VAE","link":49,"label":"vae"},{"name":"positive","type":"CONDITIONING","link":51,"label":"positive","slot_index":4},{"name":"negative","type":"CONDITIONING","link":52,"label":"negative"},{"name":"bbox_detector","type":"BBOX_DETECTOR","link":53,"label":"bbox_detector","slot_index":6},{"name":"sam_model_opt","type":"SAM_MODEL","link":null,"label":"sam_model_opt","slot_index":7},{"name":"segm_detector_opt","type":"SEGM_DETECTOR","link":null,"label":"segm_detector_opt","slot_index":8},{"name":"detailer_hook","type":"DETAILER_HOOK","link":null,"label":"detailer_hook"}],"outputs":[{"name":"image","type":"IMAGE","links":[101,113],"shape":3,"label":"image","slot_index":0},{"name":"cropped_refined","type":"IMAGE","links":[],"shape":6,"label":"cropped_refined","slot_index":1},{"name":"cropped_enhanced_alpha","type":"IMAGE","links":[110],"shape":6,"label":"cropped_enhanced_alpha","slot_index":2},{"name":"mask","type":"MASK","links":null,"shape":3,"label":"mask","slot_index":3},{"name":"detailer_pipe","type":"DETAILER_PIPE","links":null,"shape":3,"label":"detailer_pipe"},{"name":"cnet_images","type":"IMAGE","links":[],"shape":6,"label":"cnet_images","slot_index":5}],"properties":{"Node name for S&R":"FaceDetailer"},"widgets_values":[512,true,1024,698533996906447,"randomize",20,7,"euler_ancestral","normal",0.5,40,true,true,0.5,10,3,"center-1",0,0.93,0,0.7,"False",10,"",1,false,20],"serialize_values":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"",null,null,null]},{"id":69,"type":"PreviewImage","pos":[3400,188],"size":{"0":405.85589599609375,"1":611.80517578125},"flags":{},"order":20,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":113,"label":"images"}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":9,"type":"SaveImage","pos":[3838,186],"size":{"0":427.6222839355469,"1":615.7392578125},"flags":{},"order":22,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":112,"label":"images"}],"properties":{},"widgets_values":["ComfyUI"],"serialize_values":["ComfyUI"]},{"id":14,"type":"LoadImage","pos":[-373,361],"size":{"0":310.1634216308594,"1":360.7745056152344},"flags":{},"order":8,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[96],"shape":3,"label":"IMAGE","slot_index":0},{"name":"MASK","type":"MASK","links":null,"shape":3,"label":"MASK"}],"properties":{"Node name for S&R":"LoadImage"},"widgets_values":["https://bfs.esheep.com/bfs/aikobo-bfs/app/comfy/b1a2f75afbd3621558ab96d0ba681e327c8e7ded.jpg@1536w_1536h_0e","image"],"serialize_values":[null,null]}],"links":[[2,5,0,3,3,"LATENT"],[3,4,1,6,0,"CLIP"],[4,6,0,3,1,"CONDITIONING"],[5,4,1,7,0,"CLIP"],[6,7,0,3,2,"CONDITIONING"],[7,3,0,8,0,"LATENT"],[8,4,2,8,1,"VAE"],[29,8,0,25,0,"IMAGE"],[31,4,1,25,2,"CLIP"],[32,4,2,25,3,"VAE"],[33,6,0,25,4,"CONDITIONING"],[34,7,0,25,5,"CONDITIONING"],[38,27,0,25,6,"BBOX_DETECTOR"],[40,25,2,29,0,"IMAGE"],[43,8,0,31,0,"IMAGE"],[49,4,2,32,3,"VAE"],[50,4,1,32,2,"CLIP"],[51,6,0,32,4,"CONDITIONING"],[52,7,0,32,5,"CONDITIONING"],[53,34,0,32,6,"BBOX_DETECTOR"],[54,25,0,32,0,"IMAGE"],[93,65,0,3,0,"MODEL"],[94,65,0,25,1,"MODEL"],[95,65,0,32,1,"MODEL"],[96,14,0,65,2,"IMAGE"],[97,4,0,65,3,"MODEL"],[98,60,0,65,1,"CLIP_VISION"],[99,58,0,65,0,"IPADAPTER"],[101,32,0,67,0,"IMAGE"],[102,4,2,67,2,"VAE"],[103,68,0,67,1,"UPSCALER"],[105,4,0,68,0,"MODEL"],[106,4,2,68,1,"VAE"],[107,6,0,68,2,"CONDITIONING"],[108,7,0,68,3,"CONDITIONING"],[109,70,0,68,4,"UPSCALE_MODEL"],[110,32,2,71,0,"IMAGE"],[112,67,0,9,0,"IMAGE"],[113,32,0,69,0,"IMAGE"]],"groups":[],"config":{},"extra":{},"version":0.4}