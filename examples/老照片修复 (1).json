{"last_node_id":290,"last_link_id":307,"nodes":[{"id":53,"type":"CLIPTextEncode","pos":[2218.4445634890894,582.7433988427738],"size":[244.8627166748047,118.91068267822266],"flags":{"pinned":false},"order":12,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":109,"label":"clip"}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[90],"slot_index":0,"label":"CONDITIONING"}],"title":"Negative Prompt","properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":["oversaturated, grayscale, blurry, color cast, faded, old, washed out, low quality, lackluster,"],"color":"#322","bgcolor":"#533","locked":true,"serialize_values":["oversaturated, grayscale, blurry, color cast, faded, old, washed out, low quality, lackluster,"]},{"id":59,"type":"VAEEncode","pos":[2640.4445634890894,394.74339884277316],"size":[210,46],"flags":{"collapsed":true},"order":31,"mode":0,"inputs":[{"name":"pixels","type":"IMAGE","link":125,"label":"pixels"},{"name":"vae","type":"VAE","link":94,"label":"vae"}],"outputs":[{"name":"LATENT","type":"LATENT","links":[83],"shape":3,"slot_index":0,"label":"LATENT"}],"properties":{"Node name for S&R":"VAEEncode"},"locked":true},{"id":60,"type":"ColorBlend","pos":[2240,810],"size":[216.59999084472656,46],"flags":{"collapsed":false},"order":34,"mode":0,"inputs":[{"name":"bw_layer","type":"IMAGE","link":127,"slot_index":0,"label":"bw_layer"},{"name":"color_layer","type":"IMAGE","link":245,"slot_index":1,"label":"color_layer"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[111],"shape":3,"slot_index":0,"label":"IMAGE"}],"properties":{"Node name for S&R":"ColorBlend"},"locked":true},{"id":61,"type":"ColorCorrect","pos":[1832.4445634890876,249.74339884277333],"size":[315,178],"flags":{"collapsed":false},"order":26,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":260,"label":"image"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[117],"shape":3,"slot_index":0,"label":"IMAGE"}],"properties":{"Node name for S&R":"ColorCorrect"},"widgets_values":[0,0,0,0,-100,1],"locked":true,"serialize_values":[null,null,null,null,null,null]},{"id":13,"type":"VAEEncode","pos":[1173,260],"size":[210,46],"flags":{},"order":24,"mode":0,"inputs":[{"name":"pixels","type":"IMAGE","link":46,"label":"pixels"},{"name":"vae","type":"VAE","link":7,"label":"vae"}],"outputs":[{"name":"LATENT","type":"LATENT","links":[6],"shape":3,"slot_index":0,"label":"LATENT"}],"properties":{"Node name for S&R":"VAEEncode"},"locked":true},{"id":264,"type":"VAEDecode","pos":[3186,262],"size":{"0":210,"1":46},"flags":{"collapsed":true},"order":33,"mode":0,"inputs":[{"name":"samples","type":"LATENT","link":244,"label":"samples"},{"name":"vae","type":"VAE","link":246,"label":"vae"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[245],"shape":3,"slot_index":0,"label":"IMAGE"}],"properties":{"Node name for S&R":"VAEDecode"}},{"id":76,"type":"ImageScaleToTotalPixels","pos":[2822,254],"size":[315,82],"flags":{},"order":29,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":124,"label":"image"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[125,127],"shape":3,"slot_index":0,"label":"IMAGE"}],"properties":{"Node name for S&R":"ImageScaleToTotalPixels"},"widgets_values":["nearest-exact",1],"locked":true,"serialize_values":[null,null]},{"id":65,"type":"FaceRestoreCFWithModel","pos":[2570,750],"size":[315,102],"flags":{},"order":35,"mode":0,"inputs":[{"name":"facerestore_model","type":"FACERESTORE_MODEL","link":110,"slot_index":0,"label":"facerestore_model"},{"name":"image","type":"IMAGE","link":111,"label":"image"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[281],"shape":3,"slot_index":0,"label":"IMAGE"}],"properties":{"Node name for S&R":"FaceRestoreCFWithModel"},"widgets_values":["YOLOv5n",0.5],"locked":true,"serialize_values":[null,null]},{"id":276,"type":"Reroute","pos":[3165,772],"size":[75,26],"flags":{},"order":36,"mode":0,"inputs":[{"name":"","type":"*","link":281,"label":""}],"outputs":[{"name":"","type":"IMAGE","links":[282,283,285,286],"slot_index":0,"label":""}],"properties":{"showOutputText":false,"horizontal":false}},{"id":273,"type":"AIO_Preprocessor","pos":[3468,761],"size":{"0":315,"1":82},"flags":{},"order":27,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":287,"label":"image"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[277],"shape":3,"slot_index":0,"label":"IMAGE"}],"properties":{"Node name for S&R":"AIO_Preprocessor"},"widgets_values":["LineArtPreprocessor",1024],"serialize_values":[null,null]},{"id":272,"type":"AIO_Preprocessor","pos":[3469,615],"size":{"0":315,"1":82},"flags":{},"order":38,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":283,"label":"image"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[276],"shape":3,"slot_index":0,"label":"IMAGE"}],"properties":{"Node name for S&R":"AIO_Preprocessor"},"widgets_values":["TilePreprocessor",1024],"serialize_values":[null,null]},{"id":274,"type":"WD14Tagger|pysssss","pos":[3468,380],"size":{"0":315,"1":172},"flags":{},"order":37,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":282,"label":"image"}],"outputs":[{"name":"STRING","type":"STRING","links":[278],"shape":6,"slot_index":0,"label":"STRING"}],"properties":{"Node name for S&R":"WD14Tagger|pysssss"},"widgets_values":["wd-v1-4-moat-tagger-v2",0.35,0.85,"monochrome,greyscale"],"serialize_values":[null,null,null,null]},{"id":257,"type":"FaceRestoreModelLoader","pos":[3832,237],"size":{"0":315,"1":58},"flags":{},"order":0,"mode":0,"outputs":[{"name":"FACERESTORE_MODEL","type":"FACERESTORE_MODEL","links":[],"shape":3,"slot_index":0,"label":"FACERESTORE_MODEL"}],"properties":{"Node name for S&R":"FaceRestoreModelLoader"},"widgets_values":["GFPGANv1.4.pth"],"serialize_values":[null]},{"id":50,"type":"KSampler","pos":[2983,395],"size":[290,320],"flags":{"pinned":false},"order":32,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":107,"label":"model"},{"name":"positive","type":"CONDITIONING","link":81,"label":"positive"},{"name":"negative","type":"CONDITIONING","link":82,"label":"negative"},{"name":"latent_image","type":"LATENT","link":83,"label":"latent_image"},{"name":"seed","type":"INT","link":250,"widget":{"name":"seed"},"label":"seed"}],"outputs":[{"name":"LATENT","type":"LATENT","links":[244],"slot_index":0,"label":"LATENT"}],"properties":{"Node name for S&R":"KSampler"},"widgets_values":[179574150250367,"randomize",30,7.97,"dpm_adaptive","normal",1],"color":"#223","bgcolor":"#335","locked":true,"serialize_values":[null,null,null,null,null,null,null]},{"id":281,"type":"TilePreprocessor","pos":[163,620],"size":{"0":315,"1":82},"flags":{},"order":18,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":293,"label":"image"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[294],"shape":3,"slot_index":0,"label":"IMAGE"}],"properties":{"Node name for S&R":"TilePreprocessor"},"widgets_values":[1,1024],"serialize_values":[null,null]},{"id":27,"type":"WD14Tagger|pysssss","pos":[163.0862452452392,397.13904965634106],"size":[315,172],"flags":{},"order":17,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":40,"label":"image"}],"outputs":[{"name":"STRING","type":"STRING","links":[130],"shape":6,"slot_index":0,"label":"STRING"}],"properties":{"Node name for S&R":"WD14Tagger|pysssss"},"widgets_values":["wd-v1-4-moat-tagger-v2",0.35,0.85,"monochrome,greyscale,black_hair,brown_hair,brown_eyes,black_eyes"],"locked":true,"serialize_values":[null,null,null,null]},{"id":277,"type":"CR Prompt Text","pos":[-638.9563325195303,581.873259628296],"size":{"0":382.7022705078125,"1":102.31817626953125},"flags":{},"order":1,"mode":0,"outputs":[{"name":"prompt","type":"STRING","links":[288,289],"shape":3,"slot_index":0,"label":"prompt"},{"name":"show_help","type":"STRING","links":null,"shape":3,"label":"show_help"}],"title":"Cloth and background","properties":{"Node name for S&R":"CR Prompt Text"},"widgets_values":["a chinese girl,blue_coat,white_background,"],"color":"#232","bgcolor":"#353","serialize_values":["a chinese girl,blue_coat,white_background,"]},{"id":66,"type":"FaceRestoreModelLoader","pos":[1840,810],"size":[315,58],"flags":{},"order":2,"mode":0,"outputs":[{"name":"FACERESTORE_MODEL","type":"FACERESTORE_MODEL","links":[110],"shape":3,"label":"FACERESTORE_MODEL"}],"properties":{"Node name for S&R":"FaceRestoreModelLoader"},"widgets_values":["GFPGANv1.4.pth"],"locked":true,"serialize_values":[null]},{"id":57,"type":"ControlNetLoader","pos":[1829.4445634890876,653.743398842774],"size":[330,60],"flags":{"pinned":false},"order":3,"mode":0,"outputs":[{"name":"CONTROL_NET","type":"CONTROL_NET","links":[91],"shape":3,"slot_index":0,"label":"CONTROL_NET"}],"properties":{"Node name for S&R":"ControlNetLoader"},"widgets_values":["control-lora-recolor-rank256.safetensors"],"color":"#432","bgcolor":"#653","locked":true,"serialize_values":[null]},{"id":51,"type":"CheckpointLoaderSimple","pos":[1822.4445634890876,485.7433988427732],"size":{"0":330,"1":100},"flags":{"pinned":false},"order":4,"mode":0,"outputs":[{"name":"MODEL","type":"MODEL","links":[107],"slot_index":0,"label":"MODEL"},{"name":"CLIP","type":"CLIP","links":[108,109],"slot_index":1,"label":"CLIP"},{"name":"VAE","type":"VAE","links":[94,246],"slot_index":2,"label":"VAE"}],"properties":{"Node name for S&R":"CheckpointLoaderSimple"},"widgets_values":["2558_4095_4814@70229e1d56.safetensors"],"color":"#432","bgcolor":"#653","serialize_values":[null]},{"id":269,"type":"Efficient Loader","pos":[4295,381],"size":{"0":400,"1":462},"flags":{},"order":41,"mode":0,"inputs":[{"name":"lora_stack","type":"LORA_STACK","link":null,"slot_index":0,"label":"lora_stack"},{"name":"cnet_stack","type":"CONTROL_NET_STACK","link":271,"slot_index":1,"label":"cnet_stack"},{"name":"positive","type":"STRING","link":280,"widget":{"name":"positive"},"label":"positive"},{"name":"negative","type":"STRING","link":265,"widget":{"name":"negative"},"label":"negative"}],"outputs":[{"name":"MODEL","type":"MODEL","links":[266],"shape":3,"slot_index":0,"label":"MODEL"},{"name":"CONDITIONING+","type":"CONDITIONING","links":[267],"shape":3,"slot_index":1,"label":"CONDITIONING+"},{"name":"CONDITIONING-","type":"CONDITIONING","links":[268],"shape":3,"slot_index":2,"label":"CONDITIONING-"},{"name":"LATENT","type":"LATENT","links":null,"shape":3,"label":"LATENT"},{"name":"VAE","type":"VAE","links":[269],"shape":3,"slot_index":4,"label":"VAE"},{"name":"CLIP","type":"CLIP","links":null,"shape":3,"label":"CLIP"},{"name":"DEPENDENCIES","type":"DEPENDENCIES","links":null,"shape":3,"label":"DEPENDENCIES"}],"properties":{"Node name for S&R":"Efficient Loader"},"widgets_values":["398_3019_3598@15012c538f.safetensors","Baked VAE",-1,"None",1,1,"CLIP_POSITIVE","CLIP_NEGATIVE","none","comfy",512,512,1],"color":"#222233","bgcolor":"#333355","shape":1,"serialize_values":[null,null,null,null,null,null,"CLIP_POSITIVE","CLIP_NEGATIVE",null,null,null,null,null]},{"id":260,"type":"SaveImage","pos":[5085,267],"size":{"0":827.0435180664062,"1":806.7874145507812},"flags":{},"order":43,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":290,"label":"images"}],"properties":{},"widgets_values":["ComfyUI"],"serialize_values":["ComfyUI"]},{"id":268,"type":"CR Prompt Text","pos":[-638,401],"size":{"0":367.9137878417969,"1":140.4527587890625},"flags":{},"order":5,"mode":0,"outputs":[{"name":"prompt","type":"STRING","links":[263,265],"shape":3,"slot_index":0,"label":"prompt"},{"name":"show_help","type":"STRING","links":null,"shape":3,"label":"show_help"}],"title":"Negative","properties":{"Node name for S&R":"CR Prompt Text"},"widgets_values":["drawing,paiting,crayon,sketch,graphite,impressionist,noisy,blurry,soft,deformed,ugly,lowers,bad anatomy,bad hands,text,error,missing fingers,extra digit,fewer digits,cropped,worst quality,low quality,normal quality,jpeg artifacts,signature,watermark,username,(monochrome,greyscale,old photo),"],"color":"#2a363b","bgcolor":"#3f5159","serialize_values":["drawing,paiting,crayon,sketch,graphite,impressionist,noisy,blurry,soft,deformed,ugly,lowers,bad anatomy,bad hands,text,error,missing fingers,extra digit,fewer digits,cropped,worst quality,low quality,normal quality,jpeg artifacts,signature,watermark,username,(monochrome,greyscale,old photo),"]},{"id":89,"type":"ConstrainImage|pysssss","pos":[-23,232],"size":{"0":315,"1":154},"flags":{"collapsed":true},"order":14,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":301,"label":"images"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[137],"shape":6,"slot_index":0,"label":"IMAGE"}],"properties":{"Node name for S&R":"ConstrainImage|pysssss"},"widgets_values":[1024,1024,0,0,"no"],"serialize_values":[null,null,null,null,null]},{"id":275,"type":"Text Concatenate","pos":[3609,277],"size":{"0":315,"1":178},"flags":{"collapsed":true},"order":39,"mode":0,"inputs":[{"name":"text_a","type":"STRING","link":279,"widget":{"name":"text_a"},"slot_index":0,"label":"text_a"},{"name":"text_b","type":"STRING","link":278,"widget":{"name":"text_b"},"label":"text_b"},{"name":"text_c","type":"STRING","link":289,"widget":{"name":"text_c"},"label":"text_c"},{"name":"text_d","type":"STRING","link":null,"widget":{"name":"text_d"},"label":"text_d"}],"outputs":[{"name":"STRING","type":"STRING","links":[280],"shape":3,"slot_index":0,"label":"STRING"}],"properties":{"Node name for S&R":"Text Concatenate"},"widgets_values":["","true","false","","",""],"serialize_values":[null,null,"false","","",null]},{"id":88,"type":"CR Prompt Text","pos":[-637.9563325195303,254.87325962829593],"size":{"0":371.2093200683594,"1":107.09871673583984},"flags":{},"order":6,"mode":0,"outputs":[{"name":"prompt","type":"STRING","links":[131,279],"shape":3,"slot_index":0,"label":"prompt"},{"name":"show_help","type":"STRING","links":null,"shape":3,"label":"show_help"}],"title":"Quality","properties":{"Node name for S&R":"CR Prompt Text"},"widgets_values":["masterpiece,best quality,(photorealistic:1.1),8k raw photo,bokeh,detailed face，detailed skin,depth of field,"],"color":"#232","bgcolor":"#353","serialize_values":["masterpiece,best quality,(photorealistic:1.1),8k raw photo,bokeh,detailed face，detailed skin,depth of field,"]},{"id":285,"type":"Image scale to side","pos":[-95,1074],"size":{"0":315,"1":130},"flags":{},"order":13,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":300,"label":"image"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[301],"shape":3,"label":"IMAGE","slot_index":0}],"properties":{"Node name for S&R":"Image scale to side"},"widgets_values":[1024,"Longest","nearest-exact","disabled"],"serialize_values":[null,null,null,null]},{"id":6,"type":"FaceRestoreModelLoader","pos":[162.0862452452392,235.13904965634134],"size":[315,58],"flags":{},"order":7,"mode":0,"outputs":[{"name":"FACERESTORE_MODEL","type":"FACERESTORE_MODEL","links":[2],"shape":3,"label":"FACERESTORE_MODEL"}],"properties":{"Node name for S&R":"FaceRestoreModelLoader"},"widgets_values":["GFPGANv1.4.pth"],"locked":true,"serialize_values":[null]},{"id":87,"type":"Text Concatenate","pos":[-9,121],"size":{"0":315,"1":178},"flags":{"collapsed":true},"order":21,"mode":0,"inputs":[{"name":"text_a","type":"STRING","link":131,"widget":{"name":"text_a"},"slot_index":0,"label":"text_a"},{"name":"text_b","type":"STRING","link":130,"widget":{"name":"text_b"},"label":"text_b"},{"name":"text_c","type":"STRING","link":288,"widget":{"name":"text_c"},"label":"text_c"},{"name":"text_d","type":"STRING","link":null,"widget":{"name":"text_d"},"label":"text_d"}],"outputs":[{"name":"STRING","type":"STRING","links":[132],"shape":3,"slot_index":0,"label":"STRING"}],"properties":{"Node name for S&R":"Text Concatenate"},"widgets_values":["","true","false","","",""],"serialize_values":[null,null,"false","","",null]},{"id":266,"type":"CR Seed","pos":[-380,775],"size":{"0":315,"1":102},"flags":{},"order":8,"mode":0,"outputs":[{"name":"seed","type":"FLOAT,INT,NUMBER,STRING","links":[250,252],"shape":3,"slot_index":0,"label":"seed"},{"name":"show_help","type":"STRING","links":null,"shape":3,"label":"show_help"}],"properties":{"Node name for S&R":"CR Seed"},"widgets_values":[160704125996733,"randomize"],"serialize_values":[null,null]},{"id":282,"type":"LineArtPreprocessor","pos":[157,750],"size":{"0":315,"1":82},"flags":{},"order":19,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":296,"label":"image"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[295],"shape":3,"slot_index":0,"label":"IMAGE"}],"properties":{"Node name for S&R":"LineArtPreprocessor"},"widgets_values":["disable",1024],"serialize_values":[null,null]},{"id":28,"type":"Reroute","pos":[34,327],"size":[75,26],"flags":{},"order":16,"mode":0,"inputs":[{"name":"","type":"*","link":59,"label":""}],"outputs":[{"name":"","type":"IMAGE","links":[40,46,293,296,307],"slot_index":0,"label":""}],"properties":{"showOutputText":false,"horizontal":false}},{"id":290,"type":"Canny","pos":[172,898],"size":{"0":315,"1":82},"flags":{},"order":20,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":307,"label":"image"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[306],"shape":3,"label":"IMAGE"}],"properties":{"Node name for S&R":"Canny"},"widgets_values":[0.4,0.8],"serialize_values":[null,null]},{"id":14,"type":"Efficient Loader","pos":[985.0862452452398,391.13904965634106],"size":{"0":400,"1":462},"flags":{},"order":23,"mode":0,"inputs":[{"name":"lora_stack","type":"LORA_STACK","link":null,"label":"lora_stack"},{"name":"cnet_stack","type":"CONTROL_NET_STACK","link":21,"slot_index":1,"label":"cnet_stack"},{"name":"positive","type":"STRING","link":132,"widget":{"name":"positive"},"label":"positive"},{"name":"negative","type":"STRING","link":263,"widget":{"name":"negative"},"label":"negative"}],"outputs":[{"name":"MODEL","type":"MODEL","links":[8],"shape":3,"slot_index":0,"label":"MODEL"},{"name":"CONDITIONING+","type":"CONDITIONING","links":[9],"shape":3,"slot_index":1,"label":"CONDITIONING+"},{"name":"CONDITIONING-","type":"CONDITIONING","links":[10],"shape":3,"slot_index":2,"label":"CONDITIONING-"},{"name":"LATENT","type":"LATENT","links":null,"shape":3,"label":"LATENT"},{"name":"VAE","type":"VAE","links":[7,11],"shape":3,"slot_index":4,"label":"VAE"},{"name":"CLIP","type":"CLIP","links":null,"shape":3,"label":"CLIP"},{"name":"DEPENDENCIES","type":"DEPENDENCIES","links":null,"shape":3,"label":"DEPENDENCIES"}],"properties":{"Node name for S&R":"Efficient Loader"},"widgets_values":["398_3019_3598@15012c538f.safetensors","Baked VAE",-1,"None",1,1,"CLIP_POSITIVE","drawing,paiting,crayon,sketch,graphite,impressionist,noisy,blurry,soft,deformed,ugly,lowers,bad anatomy,bad hands,text,error,missing fingers,extra digit,fewer digits,cropped,worst quality,low quality,normal quality,jpeg artifacts,signature,watermark,username,(monochrome,greyscale,old photo),","none","comfy",512,512,1],"color":"#223322","bgcolor":"#335533","shape":1,"serialize_values":[null,null,null,null,null,null,"CLIP_POSITIVE","drawing,paiting,crayon,sketch,graphite,impressionist,noisy,blurry,soft,deformed,ugly,lowers,bad anatomy,bad hands,text,error,missing fingers,extra digit,fewer digits,cropped,worst quality,low quality,normal quality,jpeg artifacts,signature,watermark,username,(monochrome,greyscale,old photo),",null,null,null,null,null]},{"id":12,"type":"KSampler (Efficient)","pos":[1432,278],"size":[325,562],"flags":{},"order":25,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":8,"label":"model"},{"name":"positive","type":"CONDITIONING","link":9,"label":"positive"},{"name":"negative","type":"CONDITIONING","link":10,"label":"negative"},{"name":"latent_image","type":"LATENT","link":6,"label":"latent_image"},{"name":"optional_vae","type":"VAE","link":11,"label":"optional_vae"},{"name":"script","type":"SCRIPT","link":null,"slot_index":5,"label":"script"}],"outputs":[{"name":"MODEL","type":"MODEL","links":[],"shape":3,"slot_index":0,"label":"MODEL"},{"name":"CONDITIONING+","type":"CONDITIONING","links":[],"shape":3,"slot_index":1,"label":"CONDITIONING+"},{"name":"CONDITIONING-","type":"CONDITIONING","links":[],"shape":3,"slot_index":2,"label":"CONDITIONING-"},{"name":"LATENT","type":"LATENT","links":null,"shape":3,"label":"LATENT"},{"name":"VAE","type":"VAE","links":[],"shape":3,"slot_index":4,"label":"VAE"},{"name":"IMAGE","type":"IMAGE","links":[260,287],"shape":3,"slot_index":5,"label":"IMAGE"}],"properties":{"Node name for S&R":"KSampler (Efficient)"},"widgets_values":[417736351655611,null,30,3.2,"dpm_adaptive","normal",0.3,"auto","true"],"color":"#332222","bgcolor":"#553333","shape":1,"locked":true,"serialize_values":[null,null,null,null,null,null,null,null,null]},{"id":20,"type":"CR Multi-ControlNet Stack","pos":[517.0862452452395,406.13904965634106],"size":[418.1999816894531,454],"flags":{},"order":22,"mode":0,"inputs":[{"name":"image_1","type":"IMAGE","link":294,"label":"image_1"},{"name":"image_2","type":"IMAGE","link":295,"label":"image_2"},{"name":"image_3","type":"IMAGE","link":306,"label":"image_3","slot_index":2},{"name":"controlnet_stack","type":"CONTROL_NET_STACK","link":null,"slot_index":3,"label":"controlnet_stack"}],"outputs":[{"name":"CONTROLNET_STACK","type":"CONTROL_NET_STACK","links":[21],"shape":3,"label":"CONTROLNET_STACK"},{"name":"show_help","type":"STRING","links":null,"shape":3,"label":"show_help"}],"properties":{"Node name for S&R":"CR Multi-ControlNet Stack"},"widgets_values":["On","control_v11f1e_sd15_tile.pth",0.8,0,1,"On","control_v11p_sd15_lineart.pth",1,0,1,"Off","control_v11p_sd15_canny.pth",1,0,1],"locked":true,"serialize_values":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]},{"id":5,"type":"FaceRestoreCFWithModel","pos":[514.0862452452394,236.13904965634134],"size":[315,102],"flags":{},"order":15,"mode":0,"inputs":[{"name":"facerestore_model","type":"FACERESTORE_MODEL","link":2,"slot_index":0,"label":"facerestore_model"},{"name":"image","type":"IMAGE","link":137,"slot_index":1,"label":"image"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[59],"shape":3,"slot_index":0,"label":"IMAGE"}],"properties":{"Node name for S&R":"FaceRestoreCFWithModel"},"widgets_values":["YOLOv5n",0.7000000000000001],"locked":true,"serialize_values":[null,null]},{"id":52,"type":"CLIPTextEncode","pos":[2219.4445634890894,382.74339884277316],"size":[237.9584197998047,135.8836669921875],"flags":{"pinned":false},"order":11,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":108,"label":"clip"}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[89],"slot_index":0,"label":"CONDITIONING"}],"title":"Positive Prompt","properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":["color photograph, detailed, DSLR, natural skin, highly detailed,realistic,\n"],"color":"#232","bgcolor":"#353","locked":true,"serialize_values":["color photograph, detailed, DSLR, natural skin, highly detailed,realistic,\n"]},{"id":73,"type":"UpscaleModelLoader","pos":[2176,248],"size":[315,58],"flags":{},"order":9,"mode":0,"outputs":[{"name":"UPSCALE_MODEL","type":"UPSCALE_MODEL","links":[119,274],"shape":3,"slot_index":0,"label":"UPSCALE_MODEL"}],"properties":{"Node name for S&R":"UpscaleModelLoader"},"widgets_values":["ESRGAN_4x.pth"],"locked":true,"serialize_values":[null]},{"id":72,"type":"ImageUpscaleWithModel","pos":[2544,253],"size":[241.79998779296875,46],"flags":{},"order":28,"mode":0,"inputs":[{"name":"upscale_model","type":"UPSCALE_MODEL","link":119,"slot_index":0,"label":"upscale_model"},{"name":"image","type":"IMAGE","link":117,"label":"image"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[124,138],"shape":3,"slot_index":0,"label":"IMAGE"}],"properties":{"Node name for S&R":"ImageUpscaleWithModel"},"locked":true},{"id":58,"type":"ControlNetApplyAdvanced","pos":[2567.4445634890894,478.7433988427732],"size":[230,170],"flags":{"pinned":false},"order":30,"mode":0,"inputs":[{"name":"positive","type":"CONDITIONING","link":89,"label":"positive"},{"name":"negative","type":"CONDITIONING","link":90,"label":"negative"},{"name":"control_net","type":"CONTROL_NET","link":91,"label":"control_net"},{"name":"image","type":"IMAGE","link":138,"label":"image"}],"outputs":[{"name":"positive","type":"CONDITIONING","links":[81],"shape":3,"slot_index":0,"label":"positive"},{"name":"negative","type":"CONDITIONING","links":[82],"shape":3,"slot_index":1,"label":"negative"}],"properties":{"Node name for S&R":"ControlNetApplyAdvanced"},"widgets_values":[0.7000000000000001,0,1],"color":"#223","bgcolor":"#335","locked":true,"serialize_values":[null,null,null]},{"id":271,"type":"CR Multi-ControlNet Stack","pos":[3842,393],"size":{"0":418.1999816894531,"1":454},"flags":{},"order":40,"mode":0,"inputs":[{"name":"image_1","type":"IMAGE","link":276,"label":"image_1"},{"name":"image_2","type":"IMAGE","link":277,"label":"image_2"},{"name":"image_3","type":"IMAGE","link":286,"label":"image_3"},{"name":"controlnet_stack","type":"CONTROL_NET_STACK","link":null,"label":"controlnet_stack"}],"outputs":[{"name":"CONTROLNET_STACK","type":"CONTROL_NET_STACK","links":[271],"shape":3,"label":"CONTROLNET_STACK"},{"name":"show_help","type":"STRING","links":null,"shape":3,"label":"show_help"}],"properties":{"Node name for S&R":"CR Multi-ControlNet Stack"},"widgets_values":["On","control_v11f1e_sd15_tile.pth",0.7000000000000001,0,1,"On","control_v11p_sd15_lineart.pth",1,0,1,"Off","None",1,0,1],"serialize_values":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]},{"id":91,"type":"UltimateSDUpscale","pos":[4747,264],"size":{"0":315,"1":590},"flags":{},"order":42,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":285,"label":"image"},{"name":"model","type":"MODEL","link":266,"label":"model"},{"name":"positive","type":"CONDITIONING","link":267,"label":"positive"},{"name":"negative","type":"CONDITIONING","link":268,"label":"negative"},{"name":"vae","type":"VAE","link":269,"label":"vae"},{"name":"upscale_model","type":"UPSCALE_MODEL","link":274,"slot_index":5,"label":"upscale_model"},{"name":"seed","type":"INT","link":252,"widget":{"name":"seed"},"label":"seed"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[290],"shape":3,"slot_index":0,"label":"IMAGE"}],"properties":{"Node name for S&R":"UltimateSDUpscale"},"widgets_values":[1.5,599199681021219,"randomize",20,8,"dpmpp_2m_sde_gpu","karras",0.2,"Linear",768,768,8,32,"None",1,64,8,16,false,false],"serialize_values":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]},{"id":1,"type":"LoadImage","pos":[609.5943065123303,984.1532540357698],"size":[570.3907470703125,590.2053833007812],"flags":{},"order":10,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[300],"shape":3,"slot_index":0,"label":"IMAGE"},{"name":"MASK","type":"MASK","links":null,"shape":3,"slot_index":1,"label":"MASK"}],"title":"Upload Photo","properties":{"Node name for S&R":"LoadImage"},"widgets_values":["https://bfs.esheep.com/bfs/aikobo-bfs/app/comfy/73a15d170d6f9e59ec4148f9f63627190e3b33f4.jpg","image"],"color":"#9fd3f3","bgcolor":"#8bbfdf","locked":true,"serialize_values":[null,null]}],"links":[[2,6,0,5,0,"FACERESTORE_MODEL"],[6,13,0,12,3,"LATENT"],[7,14,4,13,1,"VAE"],[8,14,0,12,0,"MODEL"],[9,14,1,12,1,"CONDITIONING"],[10,14,2,12,2,"CONDITIONING"],[11,14,4,12,4,"VAE"],[21,20,0,14,1,"CONTROL_NET_STACK"],[40,28,0,27,0,"IMAGE"],[46,28,0,13,0,"IMAGE"],[59,5,0,28,0,"*"],[81,58,0,50,1,"CONDITIONING"],[82,58,1,50,2,"CONDITIONING"],[83,59,0,50,3,"LATENT"],[89,52,0,58,0,"CONDITIONING"],[90,53,0,58,1,"CONDITIONING"],[91,57,0,58,2,"CONTROL_NET"],[94,51,2,59,1,"VAE"],[107,51,0,50,0,"MODEL"],[108,51,1,52,0,"CLIP"],[109,51,1,53,0,"CLIP"],[110,66,0,65,0,"FACERESTORE_MODEL"],[111,60,0,65,1,"IMAGE"],[117,61,0,72,1,"IMAGE"],[119,73,0,72,0,"UPSCALE_MODEL"],[124,72,0,76,0,"IMAGE"],[125,76,0,59,0,"IMAGE"],[127,76,0,60,0,"IMAGE"],[130,27,0,87,1,"STRING"],[131,88,0,87,0,"STRING"],[132,87,0,14,2,"STRING"],[137,89,0,5,1,"IMAGE"],[138,72,0,58,3,"IMAGE"],[244,50,0,264,0,"LATENT"],[245,264,0,60,1,"IMAGE"],[246,51,2,264,1,"VAE"],[250,266,0,50,4,"INT"],[252,266,0,91,6,"INT"],[260,12,5,61,0,"IMAGE"],[263,268,0,14,3,"STRING"],[265,268,0,269,3,"STRING"],[266,269,0,91,1,"MODEL"],[267,269,1,91,2,"CONDITIONING"],[268,269,2,91,3,"CONDITIONING"],[269,269,4,91,4,"VAE"],[271,271,0,269,1,"CONTROL_NET_STACK"],[274,73,0,91,5,"UPSCALE_MODEL"],[276,272,0,271,0,"IMAGE"],[277,273,0,271,1,"IMAGE"],[278,274,0,275,1,"STRING"],[279,88,0,275,0,"STRING"],[280,275,0,269,2,"STRING"],[281,65,0,276,0,"*"],[282,276,0,274,0,"IMAGE"],[283,276,0,272,0,"IMAGE"],[285,276,0,91,0,"IMAGE"],[286,276,0,271,2,"IMAGE"],[287,12,5,273,0,"IMAGE"],[288,277,0,87,2,"STRING"],[289,277,0,275,2,"STRING"],[290,91,0,260,0,"IMAGE"],[293,28,0,281,0,"IMAGE"],[294,281,0,20,0,"IMAGE"],[295,282,0,20,1,"IMAGE"],[296,28,0,282,0,"IMAGE"],[300,1,0,285,0,"IMAGE"],[301,285,0,89,0,"IMAGE"],[306,290,0,20,2,"IMAGE"],[307,28,0,290,0,"IMAGE"]],"groups":[{"title":"Output","bounding":[598,911,2394,678],"color":"#444","font_size":24,"locked":true},{"title":"Recolor and 2nd restore","bounding":[1794,156,1559,741],"color":"#8AA","font_size":24,"locked":true},{"title":"Restore Face and Fix Image","bounding":[-2,154,1787,740],"color":"#88A","font_size":24,"locked":true},{"title":"Upscale and Save","bounding":[3366,157,2121,740],"color":"#3f789e","font_size":24,"locked":true},{"title":"Parameters","bounding":[-660,154,648,741],"color":"#3f789e","font_size":24,"locked":false}],"config":{},"extra":{},"version":0.4}