{"last_node_id":34,"last_link_id":68,"nodes":[{"id":3,"type":"ControlNetApply","pos":[1229,-170],"size":{"0":317.4000244140625,"1":98},"flags":{"collapsed":false},"order":19,"mode":0,"inputs":[{"name":"conditioning","type":"CONDITIONING","link":3,"label":"条件"},{"name":"control_net","type":"CONTROL_NET","link":1,"label":"ControlNet"},{"name":"image","type":"IMAGE","link":46,"label":"图像"}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[6],"shape":3,"slot_index":0,"label":"条件"}],"properties":{"Node name for S&R":"ControlNetApply"},"widgets_values":[0.35000000000000003],"color":"#332922","bgcolor":"#593930","serialize_values":[null]},{"id":24,"type":"Reroute","pos":[756,600],"size":[75,26],"flags":{},"order":14,"mode":0,"inputs":[{"name":"","type":"*","link":65,"slot_index":0,"label":""}],"outputs":[{"name":"","type":"IMAGE","links":[45,46,47],"slot_index":0,"label":""}],"properties":{"showOutputText":false,"horizontal":false},"color":"#323","bgcolor":"#535"},{"id":7,"type":"CLIPTextEncode","pos":[785,180],"size":{"0":425.27801513671875,"1":180.6060791015625},"flags":{},"order":15,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":22,"label":"CLIP"}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[3],"slot_index":0,"label":"条件"}],"properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":[""],"color":"#332922","bgcolor":"#593930","serialize_values":[""]},{"id":6,"type":"CLIPTextEncode","pos":[785,390],"size":{"0":425.27801513671875,"1":180.6060791015625},"flags":{},"order":16,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":23,"label":"CLIP"}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[7],"slot_index":0,"label":"条件"}],"properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":["(worst quality, low quality:1.2), (embedding:easynegative:1.2) "],"color":"#332922","bgcolor":"#593930","serialize_values":["(worst quality, low quality:1.2), (embedding:easynegative:1.2) "]},{"id":15,"type":"CLIPTextEncode","pos":[770,1230],"size":{"0":425.27801513671875,"1":180.6060791015625},"flags":{"pinned":false},"order":17,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":34,"label":"CLIP"}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[41],"slot_index":0,"label":"条件"}],"properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":["(worst quality, low quality:1.2)"],"color":"#223","bgcolor":"#335","serialize_values":["(worst quality, low quality:1.2)"]},{"id":28,"type":"Note","pos":[1712,375],"size":{"0":213.1665496826172,"1":87.34908294677734},"flags":{},"order":0,"mode":0,"properties":{"text":""},"widgets_values":["Orange = SD 1.5\nBlue   = SDXL\n\nJust connect the nodes to activate the workflow you want."],"color":"#232","bgcolor":"#353","serialize_values":[null]},{"id":25,"type":"Note","pos":[-253,608],"size":{"0":253.76861572265625,"1":58},"flags":{},"order":1,"mode":0,"properties":{"text":""},"widgets_values":["Drag the image you want to upscale here →"],"color":"#323","bgcolor":"#535","serialize_values":[null]},{"id":26,"type":"Note","pos":[1651,910],"size":{"0":434.77056884765625,"1":297.4306945800781},"flags":{},"order":2,"mode":0,"properties":{"text":""},"widgets_values":["Strengths:\n\n- 3D\n\n- Every non realistic style, SDXL is way better at keeping the style of the original image.\n\n- Close painting portraits\n\n- Close photo portraits. Lowering the CFG to 2 and keeping low denoise can really help.\n\n\nDenoise: 0.25 ~ 0.45 is usually what I use, 0.5 will most likely add lots of artifacts.\n\n\nLoRa: at 0 strength some details will be washed out, 0.5 will add a fair amount of details, 0.75 will add lots of details, 1.0 will start to hallucinate hard (can be great)."],"color":"#223","bgcolor":"#335","serialize_values":[null]},{"id":16,"type":"CLIPTextEncode","pos":[770,1020],"size":{"0":425.27801513671875,"1":180.6060791015625},"flags":{"pinned":false},"order":18,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":35,"label":"CLIP"}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[42],"slot_index":0,"label":"条件"}],"properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":[""],"color":"#223","bgcolor":"#335","serialize_values":[""]},{"id":8,"type":"CheckpointLoaderSimple","pos":[843,-121],"size":{"0":345.335693359375,"1":99.14155578613281},"flags":{"collapsed":false,"pinned":false},"order":3,"mode":0,"outputs":[{"name":"MODEL","type":"MODEL","links":[19],"slot_index":0,"label":"模型"},{"name":"CLIP","type":"CLIP","links":[20],"slot_index":1,"label":"CLIP"},{"name":"VAE","type":"VAE","links":[10],"slot_index":2,"label":"VAE"}],"properties":{"Node name for S&R":"CheckpointLoaderSimple"},"widgets_values":["realisticVisionV60B1_v60B1VAE.safetensor(V1.0)"],"color":"#332922","bgcolor":"#593930","serialize_values":["3114_4767_5571@e5f3cbc5f7.safetensors"]},{"id":21,"type":"CheckpointLoaderSimple","pos":[819,725],"size":{"0":333.2428283691406,"1":98},"flags":{"collapsed":false,"pinned":false},"order":4,"mode":0,"outputs":[{"name":"MODEL","type":"MODEL","links":[30],"slot_index":0,"label":"模型"},{"name":"CLIP","type":"CLIP","links":[31],"slot_index":1,"label":"CLIP"},{"name":"VAE","type":"VAE","links":[37],"slot_index":2,"label":"VAE"}],"properties":{"Node name for S&R":"CheckpointLoaderSimple"},"widgets_values":["DreamShaper XL_Turbo DPMpp SDE(Turbo DPMpp SDE)"],"color":"#223","bgcolor":"#335","serialize_values":["3150_4804_5622@676f0d60c8.safetensors"]},{"id":12,"type":"UpscaleModelLoader","pos":[1170,720],"size":{"0":379.21221923828125,"1":58},"flags":{"collapsed":false},"order":5,"mode":0,"outputs":[{"name":"UPSCALE_MODEL","type":"UPSCALE_MODEL","links":[29],"slot_index":0,"label":"放大模型"}],"properties":{"Node name for S&R":"UpscaleModelLoader"},"widgets_values":["4x_NMKD-Superscale-SP_178000_G.pth"],"color":"#223","bgcolor":"#335","serialize_values":[null]},{"id":17,"type":"LoraLoader","pos":[862,16],"size":{"0":315,"1":126},"flags":{},"order":12,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":19,"label":"模型"},{"name":"clip","type":"CLIP","link":20,"label":"CLIP"}],"outputs":[{"name":"MODEL","type":"MODEL","links":[21],"shape":3,"slot_index":0,"label":"模型"},{"name":"CLIP","type":"CLIP","links":[22,23],"shape":3,"slot_index":1,"label":"CLIP"}],"properties":{"Node name for S&R":"LoraLoader"},"widgets_values":["Add More Details - Detail Enhancer / Twe(v1)",1,0],"color":"#332922","bgcolor":"#593930","serialize_values":["3402_5137_6006@d9cf2f88de.safetensors",null,null]},{"id":20,"type":"Reroute","pos":[1714.3415262145647,532.3836206322883],"size":[75,26],"flags":{},"order":23,"mode":0,"inputs":[{"name":"","type":"*","link":26,"slot_index":0,"label":""}],"outputs":[{"name":"","type":"IMAGE","links":[],"slot_index":0,"label":""}],"properties":{"showOutputText":false,"horizontal":false},"color":"#332922","bgcolor":"#593930"},{"id":4,"type":"ControlNetLoader","pos":[1229,-258],"size":{"0":315,"1":58},"flags":{"collapsed":false},"order":6,"mode":0,"outputs":[{"name":"CONTROL_NET","type":"CONTROL_NET","links":[1],"shape":3,"slot_index":0,"label":"ControlNet"}],"properties":{"Node name for S&R":"ControlNetLoader"},"widgets_values":["control_v11f1e_sd15_tile.pth"],"color":"#332922","bgcolor":"#593930","serialize_values":[null]},{"id":18,"type":"Reroute","pos":[1862.3415262145647,555.3836206322883],"size":[75,26],"flags":{},"order":24,"mode":0,"inputs":[{"name":"","type":"*","link":68,"slot_index":0,"label":""}],"outputs":[{"name":"","type":"IMAGE","links":[24,25,67],"slot_index":0,"label":""}],"properties":{"showOutputText":false,"horizontal":false},"color":"#432","bgcolor":"#653"},{"id":31,"type":"SaveImage","pos":[3038,119],"size":{"0":868.0108642578125,"1":936.9744873046875},"flags":{},"order":27,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":64,"label":"图像"}],"properties":{"Node name for S&R":"SaveImage"},"widgets_values":["ComfyUI"],"color":"#432","bgcolor":"#653","serialize_values":["ComfyUI"]},{"id":29,"type":"Note","pos":[2062,687],"size":{"0":210,"1":76.54246520996094},"flags":{},"order":7,"mode":0,"properties":{"text":""},"widgets_values":["This is to help fix the \"washed out\" effect that happens when upscaling, increasing the number will increase the contrast."],"color":"#232","bgcolor":"#353","serialize_values":[null]},{"id":10,"type":"ImageBlend","pos":[2058,544],"size":{"0":210,"1":102},"flags":{"collapsed":false,"pinned":false},"order":25,"mode":0,"inputs":[{"name":"image1","type":"IMAGE","link":24,"label":"图像1"},{"name":"image2","type":"IMAGE","link":25,"label":"图像2"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[64],"shape":3,"slot_index":0,"label":"图像"}],"properties":{"Node name for S&R":"ImageBlend"},"widgets_values":[0.1,"overlay"],"color":"#432","bgcolor":"#653","serialize_values":[null,null]},{"id":27,"type":"Note","pos":[1679,-81],"size":{"0":395.78375244140625,"1":169.4735870361328},"flags":{},"order":8,"mode":0,"properties":{"text":""},"widgets_values":["Strength:\n\n- Photorealistic or Hyperdetailed landscapes\n\n- SD 1.5 adds WAY more details than SDXL, but is also less consistent, often I have to do multiple upscales to get it right.\n\nDenoise: 0.25 ~ 0.40 is usually what I use.\n\nLoRa: I like the \"add_detail\" LoRa but it's not a game changer like the XL_more_art for the SDXL model."],"color":"#332922","bgcolor":"#593930","serialize_values":[null]},{"id":5,"type":"UpscaleModelLoader","pos":[1165,-353],"size":{"0":384.0982360839844,"1":58},"flags":{"collapsed":false},"order":9,"mode":0,"outputs":[{"name":"UPSCALE_MODEL","type":"UPSCALE_MODEL","links":[2],"slot_index":0,"label":"放大模型"}],"properties":{"Node name for S&R":"UpscaleModelLoader"},"widgets_values":["4x-UltraSharp.pth"],"color":"#332922","bgcolor":"#593930","serialize_values":[null]},{"id":34,"type":"SaveImage","pos":[2348,79],"size":{"0":722.3212890625,"1":981.9736938476562},"flags":{},"order":26,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":67,"label":"图像"}],"properties":{"Node name for S&R":"SaveImage","ttNbgOverride":{"color":"#332922","bgcolor":"#593930","groupcolor":"#b06634"}},"widgets_values":["ComfyUI"],"color":"#332922","bgcolor":"#593930","serialize_values":["ComfyUI"]},{"id":2,"type":"UltimateSDUpscale","pos":[1229,-40],"size":{"0":315,"1":614},"flags":{},"order":21,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":47,"label":"图像"},{"name":"model","type":"MODEL","link":21,"label":"模型"},{"name":"positive","type":"CONDITIONING","link":6,"label":"正面提示词"},{"name":"negative","type":"CONDITIONING","link":7,"label":"负面提示词"},{"name":"vae","type":"VAE","link":10,"label":"VAE"},{"name":"upscale_model","type":"UPSCALE_MODEL","link":2,"label":"放大模型"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[26],"shape":3,"slot_index":0,"label":"图像"}],"properties":{"Node name for S&R":"UltimateSDUpscale"},"widgets_values":[2,552234599177455,"randomize",30,7,"dpmpp_3m_sde","karras",0.4,"Linear",1024,1024,12,64,"None",0.3,160,32,64,false,false],"color":"#332922","bgcolor":"#593930","serialize_values":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]},{"id":32,"type":"LoadImage","pos":[50,343],"size":{"0":621.710693359375,"1":611.2330322265625},"flags":{},"order":10,"mode":0,"inputs":[],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[65],"shape":3,"slot_index":0,"label":"图像"},{"name":"MASK","type":"MASK","links":null,"shape":3,"label":"遮罩"}],"properties":{"Node name for S&R":"LoadImage"},"widgets_values":["https://bfs.esheep.com/bfs/aikobo-bfs/app/comfy/ebd8e57158993dcd5fc04271d97da46c10d4159a.png@1536w_1536h_0e","image"],"color":"#323","bgcolor":"#535","serialize_values":[null,null]},{"id":19,"type":"Reroute","pos":[1712.3415262145647,591.3836206322883],"size":[75,26],"flags":{},"order":22,"mode":0,"inputs":[{"name":"","type":"*","link":28,"slot_index":0,"label":""}],"outputs":[{"name":"","type":"IMAGE","links":[68],"slot_index":0,"label":""}],"properties":{"showOutputText":false,"horizontal":false},"color":"#223","bgcolor":"#335"},{"id":30,"type":"Note","pos":[17,-152],"size":{"0":673.2916870117188,"1":383.228271484375},"flags":{},"order":11,"mode":0,"properties":{"text":""},"widgets_values":["Both Upscaling processes:\n\n-The Upscale model, makes a LOT of difference, from my tests, \"4x_NMKD-Superscale\" and \"4x_UniversalUpscalerV2-Sharp\" both got really better results than the others.\n\n\n\nSD 1.5:\n\n-\"Tile\" ControlNet, a must go ControlNet for upscaling.\n\n-\"easynegative\" embedding, makes more difference than I initially thought.\n\n\n\nSDXL:\n\n-\"DreamShaperXL turbo\", lately I'm getting not only faster but also better results using a turbo model (Changing the sampler WILL break this model and generate bad results).\n\n-\"xl_more_art-full\" LoRa is really important and effective for adding details, it's also a strong LoRa, so for some cases (like minimalistic paintings) setting it to 0 is a good call. If you want to add a lot of details, Range between 0.5 to 0.75 is great, setting it to 1.0 can get weird.\n\n-The \"CFG\" and \"Steps\" can be changed but remember that it's a turbo model, so high values will brake it.\n\n-Seam_fix_mode, with SDXL this works great, I use \"Band Pass\" because it's the fastest one, changing it to \"Half tile + intersections\" can increase quality, but can also double the generation time."],"color":"#232","bgcolor":"#353","serialize_values":[null]},{"id":11,"type":"UltimateSDUpscale","pos":[1229,820],"size":{"0":315,"1":614},"flags":{},"order":20,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":45,"label":"图像"},{"name":"model","type":"MODEL","link":36,"label":"模型"},{"name":"positive","type":"CONDITIONING","link":42,"label":"正面提示词"},{"name":"negative","type":"CONDITIONING","link":41,"label":"负面提示词"},{"name":"vae","type":"VAE","link":37,"label":"VAE"},{"name":"upscale_model","type":"UPSCALE_MODEL","link":29,"label":"放大模型"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[28],"shape":3,"slot_index":0,"label":"图像"}],"properties":{"Node name for S&R":"UltimateSDUpscale"},"widgets_values":[2,104321426252219,"fixed",2,3.5,"dpmpp_sde","karras",0.2,"Linear",1024,1024,8,64,"Band Pass",0.3,184,32,64,false,false],"color":"#223","bgcolor":"#335","serialize_values":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]},{"id":22,"type":"LoraLoader","pos":[820,860],"size":{"0":315,"1":126},"flags":{"pinned":false},"order":13,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":30,"label":"模型"},{"name":"clip","type":"CLIP","link":31,"label":"CLIP"}],"outputs":[{"name":"MODEL","type":"MODEL","links":[36],"shape":3,"slot_index":0,"label":"模型"},{"name":"CLIP","type":"CLIP","links":[34,35],"shape":3,"slot_index":1,"label":"CLIP"}],"properties":{"Node name for S&R":"LoraLoader"},"widgets_values":["xl_more_art-full / xl_real / Enhancer(xl_more_art-full-v1)",0.5,0],"color":"#223","bgcolor":"#335","serialize_values":["3694_5603_6541@15e31fe2b6.safetensors",null,null]}],"links":[[1,4,0,3,1,"CONTROL_NET"],[2,5,0,2,5,"UPSCALE_MODEL"],[3,7,0,3,0,"CONDITIONING"],[6,3,0,2,2,"CONDITIONING"],[7,6,0,2,3,"CONDITIONING"],[10,8,2,2,4,"VAE"],[19,8,0,17,0,"MODEL"],[20,8,1,17,1,"CLIP"],[21,17,0,2,1,"MODEL"],[22,17,1,7,0,"CLIP"],[23,17,1,6,0,"CLIP"],[24,18,0,10,0,"IMAGE"],[25,18,0,10,1,"IMAGE"],[26,2,0,20,0,"*"],[28,11,0,19,0,"*"],[29,12,0,11,5,"UPSCALE_MODEL"],[30,21,0,22,0,"MODEL"],[31,21,1,22,1,"CLIP"],[34,22,1,15,0,"CLIP"],[35,22,1,16,0,"CLIP"],[36,22,0,11,1,"MODEL"],[37,21,2,11,4,"VAE"],[41,15,0,11,3,"CONDITIONING"],[42,16,0,11,2,"CONDITIONING"],[45,24,0,11,0,"IMAGE"],[46,24,0,3,2,"IMAGE"],[47,24,0,2,0,"IMAGE"],[64,10,0,31,0,"IMAGE"],[65,32,0,24,0,"*"],[67,18,0,34,0,"IMAGE"],[68,19,0,18,0,"*"]],"groups":[{"title":"Switches","bounding":[1699,475,253,164],"color":"#8A8","font_size":24,"locked":false},{"title":"SDXL","bounding":[746,631,875,831],"color":"#88A","font_size":24,"locked":false},{"title":"SD 1.5","bounding":[747,-443,871,1037],"color":"#b06634","font_size":24,"locked":false},{"title":"Input","bounding":[17,255,679,723],"color":"#a1309b","font_size":24,"locked":false}],"config":{},"extra":{},"version":0.4}