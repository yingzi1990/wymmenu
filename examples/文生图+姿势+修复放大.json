{"last_node_id":22,"last_link_id":42,"nodes":[{"id":11,"type":"UltralyticsDetectorProvider","pos":[960,1003],"size":{"0":315,"1":78},"flags":{},"order":0,"mode":0,"outputs":[{"name":"BBOX_DETECTOR","type":"BBOX_DETECTOR","links":[21],"shape":3,"label":"BBox检测","slot_index":0},{"name":"SEGM_DETECTOR","type":"SEGM_DETECTOR","links":[],"shape":3,"label":"SEGM检测"}],"properties":{"Node name for S&R":"UltralyticsDetectorProvider","ttNbgOverride":{"color":"#38291f","groupcolor":"#b06634"}},"widgets_values":["bbox/face_yolov8m.pt"],"color":"#38291f","serialize_values":[null]},{"id":17,"type":"PreviewImage","pos":[2950,504],"size":{"0":210,"1":246},"flags":{},"order":18,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":31,"label":"图像"}],"properties":{"Node name for S&R":"PreviewImage","ttNbgOverride":{"color":"#38291f","groupcolor":"#b06634"}},"color":"#38291f"},{"id":20,"type":"SaveImage","pos":[3878.5343812730243,371.2441779324077],"size":{"0":315,"1":270},"flags":{},"order":21,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":38,"label":"图像"}],"properties":{"Node name for S&R":"SaveImage","ttNbgOverride":{"color":"#38291f","groupcolor":"#b06634"}},"widgets_values":["ComfyUI"],"color":"#38291f","serialize_values":["ComfyUI"]},{"id":18,"type":"LayerMask: MaskPreview","pos":[2999,947],"size":{"0":210,"1":246},"flags":{},"order":20,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":32,"label":"mask","slot_index":0}],"properties":{"Node name for S&R":"LayerMask: MaskPreview","ttNbgOverride":{"color":"#38291f","groupcolor":"#b06634"}},"color":"#38291f"},{"id":4,"type":"VAEDecode","pos":[862,337],"size":{"0":210,"1":46},"flags":{},"order":12,"mode":0,"inputs":[{"name":"samples","type":"LATENT","link":6,"label":"Latent"},{"name":"vae","type":"VAE","link":7,"label":"VAE","slot_index":1}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[8,14],"shape":3,"label":"图像","slot_index":0}],"properties":{"Node name for S&R":"VAEDecode","ttNbgOverride":{"color":"#38291f","groupcolor":"#b06634"}},"color":"#38291f"},{"id":5,"type":"PreviewImage","pos":[864,33],"size":{"0":210,"1":246},"flags":{},"order":13,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":8,"label":"图像"}],"properties":{"Node name for S&R":"PreviewImage","ttNbgOverride":{"color":"#38291f","groupcolor":"#b06634"}},"color":"#38291f"},{"id":7,"type":"ControlNetLoader","pos":[-442,894],"size":{"0":210,"1":82},"flags":{},"order":1,"mode":0,"outputs":[{"name":"CONTROL_NET","type":"CONTROL_NET","links":[11],"shape":3,"label":"ControlNet"}],"properties":{"Node name for S&R":"ControlNetLoader","ttNbgOverride":{"color":"#38291f","groupcolor":"#b06634"}},"widgets_values":["control_v11p_sd15_openpose.pth"],"color":"#38291f","serialize_values":[null]},{"id":8,"type":"DWPreprocessor","pos":[-433,1028],"size":{"0":315,"1":198},"flags":{},"order":8,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":13,"label":"图像","slot_index":0}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[12,42],"shape":3,"label":"图像","slot_index":0},{"name":"POSE_KEYPOINT","type":"POSE_KEYPOINT","links":null,"shape":3,"label":"姿态关键点"}],"properties":{"Node name for S&R":"DWPreprocessor","ttNbgOverride":{"color":"#38291f","groupcolor":"#b06634"}},"widgets_values":["enable","enable","enable",512,"yolox_l.onnx","dw-ll_ucoco_384_bs5.torchscript.pt"],"color":"#38291f","serialize_values":[null,null,null,null,null,null]},{"id":6,"type":"ControlNetApply","pos":[-193,897],"size":{"0":317.4000244140625,"1":98},"flags":{},"order":9,"mode":0,"inputs":[{"name":"conditioning","type":"CONDITIONING","link":9,"label":"条件"},{"name":"control_net","type":"CONTROL_NET","link":11,"label":"ControlNet","slot_index":1},{"name":"image","type":"IMAGE","link":12,"label":"图像"}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[10,18,27,37],"shape":3,"label":"条件","slot_index":0}],"properties":{"Node name for S&R":"ControlNetApply","ttNbgOverride":{"color":"#38291f","groupcolor":"#b06634"}},"widgets_values":[1],"color":"#38291f","serialize_values":[null]},{"id":2,"type":"CR LoRA Stack","pos":[-478,234],"size":{"0":315,"1":342},"flags":{},"order":2,"mode":0,"inputs":[{"name":"lora_stack","type":"LORA_STACK","link":null,"label":"LoRA堆"}],"outputs":[{"name":"LORA_STACK","type":"LORA_STACK","links":[1],"shape":3},{"name":"show_help","type":"STRING","links":null,"shape":3}],"properties":{"Node name for S&R":"CR LoRA Stack","ttNbgOverride":{"color":"#38291f","groupcolor":"#b06634"}},"widgets_values":["Off","None",1,1,"Off","None",1,1,"Off","None",1,1],"color":"#006691","serialize_values":[null,null,null,null,null,null,null,null,null,null,null,null]},{"id":1,"type":"Efficient Loader","pos":[-146,234],"size":{"0":400,"1":462},"flags":{},"order":7,"mode":0,"inputs":[{"name":"lora_stack","type":"LORA_STACK","link":1,"label":"LoRA堆","slot_index":0},{"name":"cnet_stack","type":"CONTROL_NET_STACK","link":null,"label":"ControlNet堆"}],"outputs":[{"name":"MODEL","type":"MODEL","links":[2,15,26,36],"shape":3,"label":"模型","slot_index":0},{"name":"CONDITIONING+","type":"CONDITIONING","links":[9],"shape":3,"label":"正面条件","slot_index":1},{"name":"CONDITIONING-","type":"CONDITIONING","links":[4,19,28,39],"shape":3,"label":"负面条件","slot_index":2},{"name":"LATENT","type":"LATENT","links":[5],"shape":3,"label":"Latent","slot_index":3},{"name":"VAE","type":"VAE","links":[7,17,34,40],"shape":3,"label":"VAE","slot_index":4},{"name":"CLIP","type":"CLIP","links":[16,33],"shape":3,"label":"CLIP"},{"name":"DEPENDENCIES","type":"DEPENDENCIES","links":null,"shape":3,"label":"依赖"}],"properties":{"Node name for S&R":"Efficient Loader"},"widgets_values":["SD1.5\\真实系1.5\\majicMIX realistic 麦橘写实_v7.safetensors","Baked VAE",-1,"None",1,1,"1girl, ","","none","A1111",512,512,1],"color":"#006691","bgcolor":"#333355","shape":1,"serialize_values":[null,null,null,null,null,null,"1girl, ","",null,null,null,null,null]},{"id":9,"type":"LoadImage","pos":[-774,905],"size":{"0":315,"1":314.0000305175781},"flags":{},"order":3,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[13],"shape":3,"label":"图像"},{"name":"MASK","type":"MASK","links":null,"shape":3,"label":"遮罩"}],"properties":{"Node name for S&R":"LoadImage","ttNbgOverride":{"color":"#38291f","groupcolor":"#b06634"}},"widgets_values":["easyPreview_temp_dgkgx_00001_ (4).png","image"],"color":"#38291f","serialize_values":[null,null]},{"id":22,"type":"PreviewImage","pos":[-100,1047],"size":{"0":210,"1":246},"flags":{},"order":10,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":42,"label":"图像"}],"properties":{"Node name for S&R":"PreviewImage","ttNbgOverride":{"color":"#38291f","groupcolor":"#b06634"}},"color":"#38291f"},{"id":3,"type":"KSampler","pos":[428,244],"size":{"0":315,"1":262},"flags":{},"order":11,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":2,"label":"模型"},{"name":"positive","type":"CONDITIONING","link":10,"label":"正面提示词"},{"name":"negative","type":"CONDITIONING","link":4,"label":"负面提示词"},{"name":"latent_image","type":"LATENT","link":5,"label":"Latent"}],"outputs":[{"name":"LATENT","type":"LATENT","links":[6],"shape":3,"label":"Latent","slot_index":0}],"properties":{"Node name for S&R":"KSampler","ttNbgOverride":{"color":"#38291f","groupcolor":"#b06634"}},"widgets_values":[1110222470503985,"randomize",20,8,"dpmpp_2m","karras",1],"color":"#38291f","serialize_values":[null,null,null,null,null,null,null]},{"id":10,"type":"FaceDetailer","pos":[1373,586],"size":{"0":506.4000244140625,"1":880},"flags":{},"order":14,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":14,"label":"图像"},{"name":"model","type":"MODEL","link":15,"label":"模型"},{"name":"clip","type":"CLIP","link":16,"label":"CLIP","slot_index":2},{"name":"vae","type":"VAE","link":17,"label":"VAE"},{"name":"positive","type":"CONDITIONING","link":18,"label":"正面提示词","slot_index":4},{"name":"negative","type":"CONDITIONING","link":19,"label":"负面提示词"},{"name":"bbox_detector","type":"BBOX_DETECTOR","link":21,"label":"BBox检测"},{"name":"sam_model_opt","type":"SAM_MODEL","link":22,"label":"SAM模型","slot_index":7},{"name":"segm_detector_opt","type":"SEGM_DETECTOR","link":null,"label":"Segm检测","slot_index":8},{"name":"detailer_hook","type":"DETAILER_HOOK","link":null,"label":"细化约束"}],"outputs":[{"name":"image","type":"IMAGE","links":[23,25],"shape":3,"label":"图像","slot_index":0},{"name":"cropped_refined","type":"IMAGE","links":null,"shape":6,"label":"细化图像"},{"name":"cropped_enhanced_alpha","type":"IMAGE","links":null,"shape":6,"label":"细化部分"},{"name":"mask","type":"MASK","links":[24],"shape":3,"label":"遮罩","slot_index":3},{"name":"detailer_pipe","type":"DETAILER_PIPE","links":null,"shape":3,"label":"细化节点束"},{"name":"cnet_images","type":"IMAGE","links":null,"shape":6,"label":"ControlNet图像"}],"properties":{"Node name for S&R":"FaceDetailer","ttNbgOverride":{"color":"#38291f","groupcolor":"#b06634"}},"widgets_values":[384,true,1024,701315121474917,"randomize",20,8,"dpmpp_2m","karras",0.5,5,true,true,0.5,10,3,"center-1",0,0.93,0,0.7,"False",10,"",1,false,20],"color":"#38291f","serialize_values":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"",null,null,null]},{"id":15,"type":"FaceDetailer","pos":[2350,505],"size":{"0":506.4000244140625,"1":880},"flags":{},"order":16,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":25,"label":"图像"},{"name":"model","type":"MODEL","link":26,"label":"模型","slot_index":1},{"name":"clip","type":"CLIP","link":33,"label":"CLIP","slot_index":2},{"name":"vae","type":"VAE","link":34,"label":"VAE"},{"name":"positive","type":"CONDITIONING","link":27,"label":"正面提示词","slot_index":4},{"name":"negative","type":"CONDITIONING","link":28,"label":"负面提示词","slot_index":5},{"name":"bbox_detector","type":"BBOX_DETECTOR","link":30,"label":"BBox检测"},{"name":"sam_model_opt","type":"SAM_MODEL","link":29,"label":"SAM模型","slot_index":7},{"name":"segm_detector_opt","type":"SEGM_DETECTOR","link":null,"label":"Segm检测","slot_index":8},{"name":"detailer_hook","type":"DETAILER_HOOK","link":null,"label":"细化约束"}],"outputs":[{"name":"image","type":"IMAGE","links":[31,35],"shape":3,"label":"图像","slot_index":0},{"name":"cropped_refined","type":"IMAGE","links":null,"shape":6,"label":"细化图像"},{"name":"cropped_enhanced_alpha","type":"IMAGE","links":null,"shape":6,"label":"细化部分"},{"name":"mask","type":"MASK","links":[32],"shape":3,"label":"遮罩","slot_index":3},{"name":"detailer_pipe","type":"DETAILER_PIPE","links":null,"shape":3,"label":"细化节点束"},{"name":"cnet_images","type":"IMAGE","links":null,"shape":6,"label":"ControlNet图像"}],"properties":{"Node name for S&R":"FaceDetailer","ttNbgOverride":{"color":"#38291f","groupcolor":"#b06634"}},"widgets_values":[384,true,1024,352312033283916,"randomize",20,8,"dpmpp_2m","karras",0.5,5,true,true,0.5,10,3,"center-1",0,0.93,0,0.7,"False",10,"",1,false,20],"color":"#38291f","serialize_values":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"",null,null,null]},{"id":13,"type":"PreviewImage","pos":[1973,540],"size":{"0":210,"1":246},"flags":{},"order":15,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":23,"label":"图像"}],"properties":{"Node name for S&R":"PreviewImage","ttNbgOverride":{"color":"#38291f","groupcolor":"#b06634"}},"color":"#38291f"},{"id":14,"type":"LayerMask: MaskPreview","pos":[1917,847],"size":{"0":210,"1":246},"flags":{},"order":17,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":24,"label":"mask","slot_index":0}],"properties":{"Node name for S&R":"LayerMask: MaskPreview","ttNbgOverride":{"color":"#38291f","groupcolor":"#b06634"}},"color":"#38291f"},{"id":12,"type":"SAMLoader","pos":[953,817],"size":{"0":315,"1":82},"flags":{},"order":4,"mode":0,"outputs":[{"name":"SAM_MODEL","type":"SAM_MODEL","links":[22,29],"shape":3,"label":"SAM模型","slot_index":0}],"properties":{"Node name for S&R":"SAMLoader","ttNbgOverride":{"color":"#38291f","groupcolor":"#b06634"}},"widgets_values":["sam_vit_h_4b8939.pth","Prefer GPU"],"color":"#38291f","serialize_values":[null,null]},{"id":16,"type":"UltralyticsDetectorProvider","pos":[2426,1410],"size":{"0":315,"1":78},"flags":{},"order":5,"mode":0,"outputs":[{"name":"BBOX_DETECTOR","type":"BBOX_DETECTOR","links":[30],"shape":3,"label":"BBox检测","slot_index":0},{"name":"SEGM_DETECTOR","type":"SEGM_DETECTOR","links":[],"shape":3,"label":"SEGM检测"}],"properties":{"Node name for S&R":"UltralyticsDetectorProvider","ttNbgOverride":{"color":"#38291f","groupcolor":"#b06634"}},"widgets_values":["bbox/hand_yolov8s.pt"],"color":"#38291f","serialize_values":[null]},{"id":19,"type":"UltimateSDUpscale","pos":[3496,377],"size":{"0":315,"1":614},"flags":{},"order":19,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":35,"label":"图像"},{"name":"model","type":"MODEL","link":36,"label":"模型","slot_index":1},{"name":"positive","type":"CONDITIONING","link":37,"label":"正面提示词"},{"name":"negative","type":"CONDITIONING","link":39,"label":"负面提示词","slot_index":3},{"name":"vae","type":"VAE","link":40,"label":"VAE"},{"name":"upscale_model","type":"UPSCALE_MODEL","link":41,"label":"放大模型","slot_index":5}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[38],"shape":3,"label":"图像","slot_index":0}],"properties":{"Node name for S&R":"UltimateSDUpscale","ttNbgOverride":{"color":"#38291f","groupcolor":"#b06634"}},"widgets_values":[2,445241766352313,"randomize",20,8,"dpmpp_2m","karras",0.2,"Linear",512,512,8,32,"None",1,64,8,16,true,false],"color":"#38291f","serialize_values":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]},{"id":21,"type":"UpscaleModelLoader","pos":[3823,728],"size":{"0":210,"1":82},"flags":{},"order":6,"mode":0,"outputs":[{"name":"UPSCALE_MODEL","type":"UPSCALE_MODEL","links":[41],"shape":3,"label":"放大模型"}],"properties":{"Node name for S&R":"UpscaleModelLoader","ttNbgOverride":{"color":"#38291f","groupcolor":"#b06634"}},"widgets_values":["4xNomos8kDAT.pth"],"color":"#38291f","serialize_values":[null]}],"links":[[1,2,0,1,0,"LORA_STACK"],[2,1,0,3,0,"MODEL"],[4,1,2,3,2,"CONDITIONING"],[5,1,3,3,3,"LATENT"],[6,3,0,4,0,"LATENT"],[7,1,4,4,1,"VAE"],[8,4,0,5,0,"IMAGE"],[9,1,1,6,0,"CONDITIONING"],[10,6,0,3,1,"CONDITIONING"],[11,7,0,6,1,"CONTROL_NET"],[12,8,0,6,2,"IMAGE"],[13,9,0,8,0,"IMAGE"],[14,4,0,10,0,"IMAGE"],[15,1,0,10,1,"MODEL"],[16,1,5,10,2,"CLIP"],[17,1,4,10,3,"VAE"],[18,6,0,10,4,"CONDITIONING"],[19,1,2,10,5,"CONDITIONING"],[21,11,0,10,6,"BBOX_DETECTOR"],[22,12,0,10,7,"SAM_MODEL"],[23,10,0,13,0,"IMAGE"],[24,10,3,14,0,"MASK"],[25,10,0,15,0,"IMAGE"],[26,1,0,15,1,"MODEL"],[27,6,0,15,4,"CONDITIONING"],[28,1,2,15,5,"CONDITIONING"],[29,12,0,15,7,"SAM_MODEL"],[30,16,0,15,6,"BBOX_DETECTOR"],[31,15,0,17,0,"IMAGE"],[32,15,3,18,0,"MASK"],[33,1,5,15,2,"CLIP"],[34,1,4,15,3,"VAE"],[35,15,0,19,0,"IMAGE"],[36,1,0,19,1,"MODEL"],[37,6,0,19,2,"CONDITIONING"],[38,19,0,20,0,"IMAGE"],[39,1,2,19,3,"CONDITIONING"],[40,1,4,19,4,"VAE"],[41,21,0,19,5,"UPSCALE_MODEL"],[42,8,0,22,0,"IMAGE"]],"groups":[{"title":"con","bounding":[-784,831,952,509],"color":"#3f789e","font_size":24,"locked":false},{"title":"模型区","bounding":[-488,160,752,546],"color":"#3f789e","font_size":24,"locked":false},{"title":"细化","bounding":[943,430,2276,1046],"color":"#3f789e","font_size":24,"locked":false},{"title":"SD放大","bounding":[3486,297,718,704],"color":"#3f789e","font_size":24,"locked":false}],"config":{},"extra":{},"version":0.4}