{"last_node_id":31,"last_link_id":47,"nodes":[{"id":1,"type":"CheckpointLoaderSimple","pos":[-36,-96],"size":{"0":315,"1":98},"flags":{},"order":0,"mode":0,"outputs":[{"name":"MODEL","type":"MODEL","links":[1,24],"shape":3,"label":"模型","slot_index":0},{"name":"CLIP","type":"CLIP","links":[5],"shape":3,"label":"CLIP","slot_index":1},{"name":"VAE","type":"VAE","links":[22,27],"shape":3,"label":"VAE","slot_index":2}],"properties":{"Node name for S&R":"CheckpointLoaderSimple"},"widgets_values":["XXMix_9realistic_4.0(4.0)"],"serialize_values":["688_1483_1804@18ed2b6c48.safetensors"]},{"id":2,"type":"LoraLoader","pos":[-35,72],"size":{"0":315,"1":126},"flags":{},"order":6,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":1,"label":"模型"},{"name":"clip","type":"CLIP","link":5,"label":"CLIP"}],"outputs":[{"name":"MODEL","type":"MODEL","links":[2],"shape":3,"label":"模型","slot_index":0},{"name":"CLIP","type":"CLIP","links":[6],"shape":3,"label":"CLIP","slot_index":1}],"properties":{"Node name for S&R":"LoraLoader"},"widgets_values":["真实龙(1.0)",0.38,0.38],"serialize_values":["3638_5395_6299@0480b71621.safetensors",null,null]},{"id":3,"type":"LoraLoader","pos":[-30,246],"size":{"0":315,"1":126},"flags":{},"order":7,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":2,"label":"模型"},{"name":"clip","type":"CLIP","link":6,"label":"CLIP"}],"outputs":[{"name":"MODEL","type":"MODEL","links":[3],"shape":3,"label":"模型","slot_index":0},{"name":"CLIP","type":"CLIP","links":[7],"shape":3,"label":"CLIP","slot_index":1}],"properties":{"Node name for S&R":"LoraLoader"},"widgets_values":["金龙行大运，迎接龙年，好运连连(V1.5)",0.23,0.23],"serialize_values":["2484_4016_4720@138dfe90f0.safetensors",null,null]},{"id":5,"type":"LoraLoader","pos":[-18,592],"size":{"0":315,"1":126},"flags":{},"order":9,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":4,"label":"模型"},{"name":"clip","type":"CLIP","link":8,"label":"CLIP"}],"outputs":[{"name":"MODEL","type":"MODEL","links":[11],"shape":3,"label":"模型","slot_index":0},{"name":"CLIP","type":"CLIP","links":[9,10,31],"shape":3,"label":"CLIP","slot_index":1}],"properties":{"Node name for S&R":"LoraLoader"},"widgets_values":["素雅国风(2.0)",0.18,0.18],"serialize_values":["3641_5398_6302@ea5c900d54.safetensors",null,null]},{"id":4,"type":"LoraLoader","pos":[-23,415],"size":{"0":315,"1":126},"flags":{},"order":8,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":3,"label":"模型"},{"name":"clip","type":"CLIP","link":7,"label":"CLIP"}],"outputs":[{"name":"MODEL","type":"MODEL","links":[4],"shape":3,"label":"模型","slot_index":0},{"name":"CLIP","type":"CLIP","links":[8],"shape":3,"label":"CLIP","slot_index":1}],"properties":{"Node name for S&R":"LoraLoader"},"widgets_values":["龙女(1.0)",0.2,0.2],"serialize_values":["3639_5396_6300@30673ec571.safetensors",null,null]},{"id":11,"type":"ControlNetApplyAdvanced","pos":[494,444],"size":{"0":315,"1":166},"flags":{},"order":12,"mode":0,"inputs":[{"name":"positive","type":"CONDITIONING","link":16,"label":"正面提示词"},{"name":"negative","type":"CONDITIONING","link":17,"label":"负面提示词"},{"name":"control_net","type":"CONTROL_NET","link":15,"label":"ControlNet"},{"name":"image","type":"IMAGE","link":18,"label":"图像","slot_index":3}],"outputs":[{"name":"positive","type":"CONDITIONING","links":[19],"shape":3,"label":"正面提示词","slot_index":0},{"name":"negative","type":"CONDITIONING","links":[20],"shape":3,"label":"负面提示词","slot_index":1}],"properties":{"Node name for S&R":"ControlNetApplyAdvanced"},"widgets_values":[1.8,0.2,0.8],"serialize_values":[null,null,null]},{"id":10,"type":"ControlNetLoader","pos":[507,294],"size":{"0":315,"1":58},"flags":{},"order":1,"mode":0,"outputs":[{"name":"CONTROL_NET","type":"CONTROL_NET","links":[15],"shape":3,"label":"ControlNet","slot_index":0}],"properties":{"Node name for S&R":"ControlNetLoader"},"widgets_values":["control_v1p_sd15_qrcode_monster.safetensors"],"serialize_values":[null]},{"id":12,"type":"LoadImage","pos":[500,-81],"size":{"0":315,"1":314},"flags":{},"order":2,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[18],"shape":3,"label":"图像"},{"name":"MASK","type":"MASK","links":null,"shape":3,"label":"遮罩"}],"properties":{"Node name for S&R":"LoadImage"},"widgets_values":["https://bfs.esheep.com/bfs/aikobo-bfs/app/comfy/067809e11cfa9b5cbedaa8b26cc7aa70d4fd2dbb.png","image"],"serialize_values":[null,null]},{"id":8,"type":"KSamplerAdvanced","pos":[1490,-91],"size":{"0":315,"1":334},"flags":{},"order":13,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":11,"label":"模型"},{"name":"positive","type":"CONDITIONING","link":19,"label":"正面提示词"},{"name":"negative","type":"CONDITIONING","link":20,"label":"负面提示词"},{"name":"latent_image","type":"LATENT","link":14,"label":"Latent","slot_index":3}],"outputs":[{"name":"LATENT","type":"LATENT","links":[21],"shape":3,"label":"Latent","slot_index":0}],"properties":{"Node name for S&R":"KSamplerAdvanced"},"widgets_values":["enable",1027047475149232,"randomize",25,7,"dpmpp_2m","karras",0,10000,"disable"],"serialize_values":[null,null,null,null,null,null,null,null,null,null]},{"id":14,"type":"VAEDecode","pos":[1848,-71],"size":{"0":210,"1":46},"flags":{},"order":14,"mode":0,"inputs":[{"name":"samples","type":"LATENT","link":21,"label":"Latent"},{"name":"vae","type":"VAE","link":22,"label":"VAE"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[23],"shape":3,"label":"图像","slot_index":0}],"properties":{"Node name for S&R":"VAEDecode"}},{"id":17,"type":"SAMLoader","pos":[1831,34],"size":{"0":315,"1":82},"flags":{},"order":3,"mode":0,"outputs":[{"name":"SAM_MODEL","type":"SAM_MODEL","links":[29],"shape":3,"label":"SAM模型"}],"properties":{"Node name for S&R":"SAMLoader"},"widgets_values":["sam_vit_b_01ec64.pth","AUTO"],"serialize_values":[null,null]},{"id":18,"type":"UltralyticsDetectorProvider","pos":[1843,184],"size":{"0":315,"1":78},"flags":{},"order":4,"mode":0,"outputs":[{"name":"BBOX_DETECTOR","type":"BBOX_DETECTOR","links":[46],"shape":3,"label":"BBox检测","slot_index":0},{"name":"SEGM_DETECTOR","type":"SEGM_DETECTOR","links":[43],"shape":3,"label":"SEGM检测","slot_index":1}],"properties":{"Node name for S&R":"UltralyticsDetectorProvider"},"widgets_values":["segm/person_yolov8m-seg.pt"],"serialize_values":[null]},{"id":7,"type":"CLIPTextEncode","pos":[1000,159],"size":{"0":400,"1":200},"flags":{},"order":11,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":10,"label":"CLIP"}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[17,26],"shape":3,"label":"条件","slot_index":0}],"properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":[" EasyNegativeV2, lowres, bad anatomy, bad hands, text, error, missing fingers, extra digit, fewer digits, cropped, worst quality, low quality, normal quality, jpeg artifacts, signature, watermark, username, blurry"],"serialize_values":[" EasyNegativeV2, lowres, bad anatomy, bad hands, text, error, missing fingers, extra digit, fewer digits, cropped, worst quality, low quality, normal quality, jpeg artifacts, signature, watermark, username, blurry"]},{"id":15,"type":"FaceDetailer","pos":[2276,-75],"size":{"0":506.4000244140625,"1":856},"flags":{},"order":15,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":23,"label":"图像"},{"name":"model","type":"MODEL","link":24,"label":"模型"},{"name":"clip","type":"CLIP","link":31,"label":"CLIP"},{"name":"vae","type":"VAE","link":27,"label":"VAE","slot_index":3},{"name":"positive","type":"CONDITIONING","link":25,"label":"正面提示词"},{"name":"negative","type":"CONDITIONING","link":26,"label":"负面提示词"},{"name":"bbox_detector","type":"BBOX_DETECTOR","link":46,"label":"BBox检测","slot_index":6},{"name":"sam_model_opt","type":"SAM_MODEL","link":29,"label":"SAM模型","slot_index":7},{"name":"segm_detector_opt","type":"SEGM_DETECTOR","link":43,"label":"Segm检测","slot_index":8},{"name":"detailer_hook","type":"DETAILER_HOOK","link":null,"label":"细化约束"}],"outputs":[{"name":"image","type":"IMAGE","links":[32,47],"shape":3,"label":"图像","slot_index":0},{"name":"cropped_refined","type":"IMAGE","links":null,"shape":6,"label":"细化图像"},{"name":"cropped_enhanced_alpha","type":"IMAGE","links":null,"shape":6,"label":"细化部分"},{"name":"mask","type":"MASK","links":null,"shape":3,"label":"遮罩"},{"name":"detailer_pipe","type":"DETAILER_PIPE","links":null,"shape":3,"label":"细化节点束"},{"name":"cnet_images","type":"IMAGE","links":null,"shape":6,"label":"ControlNet图像"}],"properties":{"Node name for S&R":"FaceDetailer"},"widgets_values":[384,true,1024,114985225672879,"randomize",20,7,"dpmpp_2m","karras",0.5,5,true,true,0.5,10,3,"center-1",0,0.93,0,0.7,"False",10,"",1,false],"serialize_values":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"",null,null]},{"id":31,"type":"SaveImage","pos":[3388,-125],"size":{"0":664,"1":401},"flags":{},"order":17,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":47,"label":"图像"}],"properties":{},"widgets_values":["ComfyUI"],"serialize_values":["ComfyUI"]},{"id":19,"type":"PreviewImage","pos":[2835,-121],"size":{"0":524.6187744140625,"1":675.5671997070312},"flags":{},"order":16,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":32,"label":"图像"}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":6,"type":"CLIPTextEncode","pos":[998,-98],"size":{"0":400,"1":200},"flags":{},"order":10,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":9,"label":"CLIP"}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[16,25],"shape":3,"label":"条件","slot_index":0}],"properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":["A man is sitting on a white dragon. The man is wearing black and white Hanfu. The clothes are decorated with gold, short white hair, dragon horns are golden, white background, golden auspicious clouds, 8K, extremely high resolution"],"serialize_values":["A man is sitting on a white dragon. The man is wearing black and white Hanfu. The clothes are decorated with gold, short white hair, dragon horns are golden, white background, golden auspicious clouds, 8K, extremely high resolution"]},{"id":9,"type":"EmptyLatentImage","pos":[1027,432],"size":{"0":315,"1":106},"flags":{},"order":5,"mode":0,"outputs":[{"name":"LATENT","type":"LATENT","links":[14],"shape":3,"label":"Latent"}],"properties":{"Node name for S&R":"EmptyLatentImage"},"widgets_values":[768,768,4],"serialize_values":[null,null,null]}],"links":[[1,1,0,2,0,"MODEL"],[2,2,0,3,0,"MODEL"],[3,3,0,4,0,"MODEL"],[4,4,0,5,0,"MODEL"],[5,1,1,2,1,"CLIP"],[6,2,1,3,1,"CLIP"],[7,3,1,4,1,"CLIP"],[8,4,1,5,1,"CLIP"],[9,5,1,6,0,"CLIP"],[10,5,1,7,0,"CLIP"],[11,5,0,8,0,"MODEL"],[14,9,0,8,3,"LATENT"],[15,10,0,11,2,"CONTROL_NET"],[16,6,0,11,0,"CONDITIONING"],[17,7,0,11,1,"CONDITIONING"],[18,12,0,11,3,"IMAGE"],[19,11,0,8,1,"CONDITIONING"],[20,11,1,8,2,"CONDITIONING"],[21,8,0,14,0,"LATENT"],[22,1,2,14,1,"VAE"],[23,14,0,15,0,"IMAGE"],[24,1,0,15,1,"MODEL"],[25,6,0,15,4,"CONDITIONING"],[26,7,0,15,5,"CONDITIONING"],[27,1,2,15,3,"VAE"],[29,17,0,15,7,"SAM_MODEL"],[31,5,1,15,2,"CLIP"],[32,15,0,19,0,"IMAGE"],[43,18,1,15,8,"SEGM_DETECTOR"],[46,18,0,15,6,"BBOX_DETECTOR"],[47,15,0,31,0,"IMAGE"]],"groups":[{"title":"模型加载区","bounding":[-95,-224,475,977],"color":"#3f789e","font_size":24,"locked":false},{"title":"图片上传","bounding":[462,-209,397,879],"color":"#3f789e","font_size":24,"locked":false}],"config":{},"extra":{},"version":0.4}